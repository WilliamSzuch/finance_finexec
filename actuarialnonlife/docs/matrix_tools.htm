<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>matrix_tools.ijs</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="joxygen.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">matrix_tools.ijs</h1>
</header>
<hr>
<a href="http://www.finexec.com.au" target="_blank">Finexec | </a> <a class="HREF" href="../../finexec_doc.html" target="_blank">Documentation | </a> <a class="HREF" href="../../finexec_cat.html" target="_blank">Category | </a> <a class="HREF" href="index.htm" target="_blank">Actuarial Non-Life</a>
<hr>
<hr>
<div class="line-block">Script: ~addons/finance/finexec/actuarialmethods/matrix_tools.ijs<br />
Contributor: William Szuch<br />
Updated: 1/3/2021<br />
Depend: nil<br />
Definitions: loaded to locale base<br />
Status: dev:<br />
<a href="../matrix_tools.ijs" target="_blank">Script source: matrix_tools.ijs</a></div>
<hr>
<div class="line-block">Tools for manipulations of matrices.<br />
Rotation of matrices.<br />
Transposing of matrices.<br />
For example development tables: incident/accident and report periods.<br />
Special matrices.</div>
<hr>
<h2>Definitions</h2>
<table class="map">
<tr>
<td class="key">
B
</td>
<td>
<a href="#bottom_triL">bottom_triL</a>, <a href="#bottom_triR">bottom_triR</a>
</td>
</tr>
<tr>
<td class="key">
L
</td>
<td>
<a href="#left_tri">left_tri</a>
</td>
</tr>
<tr>
<td class="key">
M
</td>
<td>
<a href="#mat_det">mat_det</a>, <a href="#mat_id">mat_id</a>, <a href="#mat_inv">mat_inv</a>, <a href="#mat_mult">mat_mult</a>
</td>
</tr>
<tr>
<td class="key">
R
</td>
<td>
<a href="#right_tri">right_tri</a>, <a href="#rotate1">rotate1</a>, <a href="#rotate2">rotate2</a>, <a href="#rotate3">rotate3</a>, <a href="#rotate4">rotate4</a>
</td>
</tr>
<tr>
<td class="key">
T
</td>
<td>
<a href="#top_triL">top_triL</a>, <a href="#top_triR">top_triR</a>
</td>
</tr>
</table>
<hr>
<table class="rdef">
<tr>
<td id="mat_det" class="rid">
mat_det
</td>
<td class="rtype">
m
</td>
<td class="rdef">
Determinant of matrix y
</td>
</tr>
<tr>
<td id="mat_id" class="rid">
mat_id
</td>
<td class="rtype">
m
</td>
<td class="rdef">
Create an identy matrix
</td>
</tr>
<tr>
<td id="mat_inv" class="rid">
mat_inv
</td>
<td class="rtype">
m
</td>
<td class="rdef">
Inverse of matrix y
</td>
</tr>
<tr>
<td id="mat_mult" class="rid">
mat_mult
</td>
<td class="rtype">
m
</td>
<td class="rdef">
Matrix multiplication of x and y
</td>
</tr>
</table>
<h2 class="hdef" id="bottom_triL">bottom_triL (monad)</h2>
<div class="line-block"><b>Form:</b> tacit<br />
<b>Depend:</b> nil<br />
Create a matrix with 1s to the RHS.<br />
Bottom row is all 1s.<br />
Columns are 0 and 1s</div>
<h3>Syntax</h3>
<pre><code>bottom_triL(R,[C})
R = rows dimension of square matrix
[C] = optional number of columns for a rectangular matrix</code></pre>
<h3>Example</h3>
<pre><code>  bottom_triL 4
0 0 0 1
0 0 1 1
0 1 1 1
1 1 1 1</code></pre>
<pre><code>  bottom_triL(4 6)
0 0 0 1 1 1
0 0 1 1 1 1
0 1 1 1 1 1
1 1 1 1 1 1</code></pre>
<h2 class="hdef" id="bottom_triR">bottom_triR (monad)</h2>
<div class="line-block"><b>Form:</b> tacit<br />
<b>Depend:</b> nil<br />
Create a matrix with 1s to the RHS.<br />
Bottom row is all 1s.<br />
Columns are 0 and 1s</div>
<h3>Syntax</h3>
<pre><code>uppertriR(R,[C})
R = rows dimension of square matrix
[C] = optional number of columns for a rectangular matrix</code></pre>
<h3>Example</h3>
<pre><code>  bottom_triR 4
0 0 0 1
0 0 1 1
0 1 1 1
1 1 1 1</code></pre>
<pre><code>  bottom_triR(4 6)
0 0 0 1 1 1
0 0 1 1 1 1
0 1 1 1 1 1
1 1 1 1 1 1</code></pre>
<h2 class="hdef" id="left_tri">left_tri (monad)</h2>
<div class="line-block"><b>Form:</b> tacit<br />
<b>Depend:</b> nil<br />
Create a matrix with 1s to the LHS.<br />
Left column is all 1s.<br />
Rows are 0 and 1s</div>
<h3>Syntax</h3>
<pre><code>left_tri(R,[C])
R = rows dimension of square matrix
[C] = optional number of columns for a rectangular matrix</code></pre>
<h3>Example</h3>
<pre><code>  left_tri 4
1 0 0 0
1 1 0 0
1 1 1 0
1 1 1 1</code></pre>
<pre><code>  left_tri(4 6)
1 0 0 0 0 0
1 1 0 0 0 0
1 1 1 0 0 0
1 1 1 1 0 0

  left_tri(6 4)
1 0 0 0
1 1 0 0
1 1 1 0
1 1 1 1
1 1 1 1
1 1 1 1</code></pre>
<h2 class="hdef" id="right_tri">right_tri (monad)</h2>
<div class="line-block"><b>Form:</b> tacit<br />
<b>Depend:</b> nil<br />
Create a matrix with 1s to the RHS.<br />
Right column is all 1s.<br />
Rows are 0 and 1s</div>
<h3>Syntax</h3>
<pre><code>right_tri(R,[C})
R = rows dimension of square matrix
[C] = optional number of columns for a rectangular matrix</code></pre>
<h3>Example</h3>
<pre><code>  right_tri 4
0 0 0 1
0 0 1 1
0 1 1 1
1 1 1 1</code></pre>
<pre><code>  right_tri(4 6)
0 0 0 0 0 1
0 0 0 0 1 1
0 0 0 1 1 1
0 0 1 1 1 1</code></pre>
<h2 class="hdef" id="rotate1">rotate1 (monad)</h2>
<div class="line-block"><b>Form:</b> explicit<br />
<b>Depend:</b> nil<br />
Rotate a matrix along its rows from right to left.<br />
For example: report period to development period.</div>
<h3>Syntax</h3>
<pre><code>rorate1(M)
M = matrix to be rotated</code></pre>
<h3>Example</h3>
<pre><code>  rotate1(4 4 $ i. 4)
0 1 2 3
1 2 3 0
2 3 0 1
3 0 1 2</code></pre>
<pre><code>  rotate1(3 4 $ i. 4)
0 1 2 3
1 2 3 0
2 3 0 1</code></pre>
<pre><code>rotate1(4 3 $ i. 3)
0 1 2
1 2 0
2 0 1
0 1 2</code></pre>
<h2 class="hdef" id="rotate2">rotate2 (monad)</h2>
<div class="line-block"><b>Form:</b> explicit<br />
<b>Depend:</b> nil<br />
Rotate a matrix along its rows from left to right.<br />
For example: development period to report period.</div>
<h3>Syntax</h3>
<pre><code>rorate2(M)
M = matrix to be rotated</code></pre>
<h3>Example</h3>
<pre><code>  rotate2(4 4 $ i. 4)
0 1 2 3
3 0 1 2
2 3 0 1
1 2 3 0</code></pre>
<pre><code>  rotate2(3 4 $ i. 4)
0 1 2 3
3 0 1 2
2 3 0 1</code></pre>
<pre><code>  rotate2(4 3 $ i. 3)
0 1 2
2 0 1
1 2 0
0 1 2</code></pre>
<h2 class="hdef" id="rotate3">rotate3 (monad)</h2>
<div class="line-block"><b>Form:</b> explicit<br />
<b>Depend:</b> rotate1<br />
Rotate a matrix along its rows along the reserve diagonal.</div>
<h3>Syntax</h3>
<pre><code>rorate3(M)
M = matrix to be rotated</code></pre>
<h3>Example</h3>
<pre><code>  rotate3(4 4 $ i. 4)
3 0 1 2
2 3 0 1
1 2 3 0
0 1 2 3</code></pre>
<pre><code>  rotate3(3 4 $ i. 4)
2 3 0 1
1 2 3 0
0 1 2 3</code></pre>
<pre><code>  rotate3(4 3 $ i. 3)
0 1 2
2 0 1
1 2 0
0 1 2</code></pre>
<h2 class="hdef" id="rotate4">rotate4 (monad)</h2>
<div class="line-block"><b>Form:</b> explicit<br />
<b>Depend:</b> rotate2<br />
Rotate a matrix along its rows along the diagonal.</div>
<h3>Syntax</h3>
<pre><code>rorate3(M)
M = matrix to be rotated</code></pre>
<h3>Example</h3>
<pre><code>  rotate3(4 4 $ i. 4)
3 0 1 2
2 3 0 1
1 2 3 0
0 1 2 3</code></pre>
<pre><code>  rotate3(3 4 $ i. 4)
2 3 0 1
1 2 3 0
0 1 2 3</code></pre>
<pre><code>  rotate3(4 3 $ i. 3)
0 1 2
2 0 1
1 2 0
0 1 2</code></pre>
<h2 class="hdef" id="top_triL">top_triL (monad)</h2>
<div class="line-block"><b>Form:</b> tacit<br />
<b>Depend:</b> nil<br />
Create a matrix with 1s to the LHS.<br />
Top row is all 1s.<br />
Columns are 0 and 1s</div>
<h3>Syntax</h3>
<pre><code>top_triL(R,[C])
R = rows dimension of square matrix
[C] = optional number of columns for a rectangular matrix</code></pre>
<h3>Example</h3>
<pre><code>  top_triL 4
1 1 1 1
1 1 1 0
1 1 0 0
1 0 0 0</code></pre>
<pre><code>  top_triL(4 6)
1 1 1 1 1 1
1 1 1 1 1 0
1 1 1 1 0 0
1 1 1 0 0 0</code></pre>
<pre><code>  top_triL(6 4)
1 1 1 1
1 1 1 0
1 1 0 0
1 0 0 0
0 0 0 0
0 0 0 0</code></pre>
<h2 class="hdef" id="top_triR">top_triR (monad)</h2>
<div class="line-block"><b>Form:</b> tacit<br />
<b>Depend:</b> nil<br />
Create a matrix with 1s to the RHS.<br />
Top row is all 1s.<br />
Columns are 0 and 1s</div>
<h3>Syntax</h3>
<pre><code>top_triR(R,[C])
R = rows of a square matrix
[C] = optional number of columns for a rectangular matrix</code></pre>
<h3>Example</h3>
<pre><code>  top_triR 4
1 1 1 1
0 1 1 1
0 0 1 1
0 0 0 1</code></pre>
<pre><code>  top_triR(4 6)
1 1 1 1 1 1
0 1 1 1 1 1
0 0 1 1 1 1
0 0 0 1 1 1</code></pre>
<pre><code>  top_triR(6 4)
1 1 1 1
0 1 1 1
0 0 1 1
0 0 0 1
0 0 0 0
0 0 0 0</code></pre>
</body>
</html>
